<html>

<head>
    <title>Task 1</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>

<body>
    <h1>Weather Service API</h1>
    <button type="button" class="btn btn-primary" id="submit">Get Weather</button>


    <div id="myData"></div>

    <script>
        $(document).ready(function () {
            $("#submit").click(function (e) {
                $.ajax({
                    type: "GET",
                    url: "https://api.data.gov.sg/v1/environment/2-hour-weather-forecast",
                    dataType: "json",
                    success: function (data) {
                        console.log(data);
                        appendData(data.items[0].forecasts);
                    },
                    error: function (xhr, status, error) {
                        alert("Result: " + status + " " + error + " " + xhr.status + " " + xhr.statusText)
                    }
                });
                
            });
        });


        function appendData(data) {
            var maincontainer = document.getElementById("myData");
            for (var i = 0; i < data.length; i++) {
                var div = document.createElement("div");
                div.innerHTML = 'Area Forecast : ' + data[i].area + ' ' + data[i].forecast;
                maincontainer.appendChild(div);
            }
        }

    </script>
</body>
</html>